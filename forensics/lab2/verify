#!/usr/bin/exec-suid -- /usr/bin/python3 -I

import sys
sys.path.append('/challenge')

def print_flag():
    try:
        with open("/flag", "r") as f:
            print(f.read())
    except FileNotFoundError:
        print("Error: Flag file not found.")

# List of correct flags
CORRECT_FLAGS = [
	"flag{w3lc0m3_T0_$T4g3_!_Of_L4B_2}",
	"flag{w0w_th1s_1s_Th3_SeC0nD_ST4g3_!!}",
	"flag{oK_So_Now_St4g3_3_is_DoNE!!}"
]

def check_flags_step_by_step():
    i = 0  # Manual counter
    while i < len(CORRECT_FLAGS):
        user_flag = input(f"Enter flag {i + 1}: ").strip()
        if user_flag == CORRECT_FLAGS[i]:
            print(f"Flag {i + 1} correct!")
            i += 1  # Move to next flag
        else:
            print(f"Incorrect flag {i + 1}. Try again later.")
            return  # Exit immediately if wrong
    # If all flags are correct:
    print("🏁 All flags correct! Here's your final flag:")
    print_flag()


if __name__ == "__main__":
    check_flags_step_by_step()
